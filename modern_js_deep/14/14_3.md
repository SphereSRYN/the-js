# 14 전역 변수의 문제점

전역 변수의 무분별한 사용은 위험하다. 전역변수를 반드시 사용해야 할 이유를 찾지 못한다면 지역 변수를 사용해야한다.
이번 장에서는 전역 변수의 문제점과 전역 변수의 사용을 억제할 수 있는 방법을 살펴보자.

## 14.1 변수의 생명주기

### 14.3.3 모듈패턴

모듈 패턴은 클래스를 모방해서 관련이 있는 변수와 함수를 모아 즉시 실행 함수로 감싸 하나의 모듈을 만든다. 모듈 패턴은 자바스크립트의 강력한 기능인 클로저를 기반으로 동작한다. 모듈 패턴의 특징은 전역 변수의 억제와 캡슐화까지 구현할 수 있다는 것이다.

모듈 패턴을 이해하려면 클로저를 이해해야 하므로 지금은 클로저라는 기능을 통해 전역 변수를 억제할 수 있다는 데 주목하자.

캡슐화, encapsulation은 객체의 상태를 나타내는 프로퍼티와 프로퍼티를 참조하고 조작할 수 있는 동작인 메서드를 하나로 묶은 것을 말한다.

### 14.3.4 es6모듈

es6 모듈을 사용하면 더는 전역 변수를 사용할 수 없다. es6 모듈은 파일 자체의 독자적인 모듈 스코프를 제공한다. 따라서 모듈 내에서 var 키워드로 선언한 변수는 더는 전역 변수가 아니며 window객체의 프로퍼티도 아니다. 모던 브라우저에서는 es6모듈을 사용할 수 있따. script 태그에 type = moudle을 추가하면 로드된 자바스크립트 파일은 모듈로서 동작한다. 모듈의 파일 확장자는 mjs를 권장한다.

es6모듈은 IE를 포함한 구형 브라우저에서는 동작하지 않으며, 브라우저의 es6 모듈 기능을 사용하더라도 트랜스파일링이나 번들링이 필요하기 떄문에아직까지는 브라우저가 지원하는 ex6 모듈 기능보다는 웹팩등의모듈 번들러를 사용하는 것이 일반적이다.
